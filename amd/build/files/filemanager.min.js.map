{"version":3,"file":"filemanager.min.js","sources":["../../src/files/filemanager.js"],"sourcesContent":["import $ from \"jquery\";\nimport { prepareDraftAreaHTML, filesUploadFromDraft } from \"local_digitalta/repositories/files_repository\";\nimport Notification from \"core/notification\";\n\n/**\n * Prepare the draft area HTML.\n * @param {string} fileArea - The area of the file.\n * @param {string} component - The component.\n * @param {number} fileContextId - The context id.\n * @return {Promise} Resolve with warnings.\n */\nexport const prepareDraftHTML = (fileArea, component, fileContextId) => {\n    return prepareDraftAreaHTML({\n        filearea: fileArea,\n        component: component,\n        filecontextid: fileContextId,\n    })\n    .then((response) => {\n        return response;\n    })\n    .fail(Notification.exception);\n};\n\n/**\n * Save files to the server.\n * @param {string} containerId - The id of the container.\n * @param {string} fileinputId - The id of the file input.\n * @param {string} fileid - The id of the file.\n * @param {string} filearea - The area of the file.\n * @param {number} contextid - The context id.\n * @return {Promise} Resolve with warnings.\n */\nexport const saveFiles = (containerId, fileinputId, fileid, filearea, contextid = 1) => {\n    const fileContainer = $(`#${containerId} `);\n    const draftid = fileContainer.find(`#${fileinputId}`).attr(\"Value\");\n    return filesUploadFromDraft({\n        draftid,\n        fileid,\n        filearea,\n        contextid,\n    })\n    .then((response) => {\n        return response;\n    })\n    .fail(Notification.exception);\n};\n\n/**\n * Initialize the file manager.\n * @param {string} containerId - The id of the container.\n * @return {void}\n */\nexport const init = (containerId) => {\n    $(`#${containerId}`).html(M.custom.filemanager.html);\n};\n"],"names":["fileArea","component","fileContextId","filearea","filecontextid","then","response","fail","Notification","exception","containerId","fileinputId","fileid","contextid","fileContainer","draftid","find","attr","html","M","custom","filemanager"],"mappings":"kgBAWgC,CAACA,SAAUC,UAAWC,iBAC3C,0CAAqB,CACxBC,SAAUH,SACVC,UAAWA,UACXG,cAAeF,gBAElBG,MAAMC,UACIA,WAEVC,KAAKC,sBAAaC,8BAYE,SAACC,YAAaC,YAAaC,OAAQT,cAAUU,iEAAY,QACxEC,eAAgB,mBAAG,IAAGJ,gBACtBK,QAAUD,cAAcE,KAAM,IAAGL,eAAeM,KAAK,gBACpD,0CAAqB,CACxBF,QAAAA,QACAH,OAAAA,OACAT,SAAAA,SACAU,UAAAA,YAEHR,MAAMC,UACIA,WAEVC,KAAKC,sBAAaC,0BAQFC,kCACd,IAAGA,eAAeQ,KAAKC,EAAEC,OAAOC,YAAYH"}