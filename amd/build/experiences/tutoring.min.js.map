{"version":3,"file":"tutoring.min.js","sources":["../../src/experiences/tutoring.js"],"sourcesContent":["import {tutoringTutorsGet, tutoringRequestsAdd, tutoringRequestsRemove} from \"local_digitalta/repositories/tutoring_repository\";\nimport Templates from \"core/templates\";\nimport Notification from \"core/notification\";\nimport SELECTORS from \"local_digitalta/experiences/selectors\";\nimport $ from \"jquery\";\n\nexport const getTutors = async (searchText) => {\n  if (!searchText.trim()) {\n    $(SELECTORS.SECTIONS.tutoringTutorsGetResults).empty();\n    return;\n  }\n  const experienceid = $(\"#experience-id\").val();\n  const tutors = await tutoringTutorsGet({ searchText: searchText, experienceid });\n  await addTutorsResults(tutors);\n};\n\n/**\n * Add tutors to the results div\n * @param {object} tutorsData\n * @return {void}\n */\nexport function addTutorsResults(tutorsData) {\n  Templates.render(\"local_digitalta/test/menu_tutor/item-search\", {\n    tutors: tutorsData,\n  }).then((html) => {\n    $(SELECTORS.SECTIONS.tutoringTutorsGetResults).html(html);\n    return;\n  }).catch((error) => {\n    Notification.exception(error);\n  });\n}\n\n/**\n * Add tutor request\n * @param {int} tutorid\n * @param {int} experienceid\n */\nexport function handlerAddTutorRequest(tutorid, experienceid) {\n  const args = {tutorid, experienceid};\n  tutoringRequestsAdd(args).then(() => {\n    getTutors($(SELECTORS.INPUTS.tutorsSearch).val());\n    return;\n  }).catch((error) => {\n    Notification.exception(error);\n  });\n}\n\n\n/**\n * Remove tutor request\n * @param {int} tutorid\n * @param {int} experienceid\n */\nexport function handlerRemoveTutorRequest(tutorid, experienceid) {\n  const args = {tutorid, experienceid};\n  tutoringRequestsRemove(args).then(() => {\n    getTutors($(SELECTORS.INPUTS.tutorsSearch).val());\n    return;\n  }).catch((error) => {\n    Notification.exception(error);\n  });\n}\n"],"names":["tutorid","experienceid","args","then","getTutors","SELECTORS","INPUTS","tutorsSearch","val","catch","error","exception","async","searchText","trim","SECTIONS","tutoringTutorsGetResults","empty","tutors","addTutorsResults","tutorsData","render","html"],"mappings":"ghBAqCuCA,QAASC,oBACxCC,KAAO,CAACF,QAAAA,QAASC,aAAAA,2DACHC,MAAMC,MAAK,KAC7BC,WAAU,mBAAEC,mBAAUC,OAAOC,cAAcC,UAE1CC,OAAOC,8BACKC,UAAUD,uDAUeV,QAASC,oBAC3CC,KAAO,CAACF,QAAAA,QAASC,aAAAA,8DACAC,MAAMC,MAAK,KAChCC,WAAU,mBAAEC,mBAAUC,OAAOC,cAAcC,UAE1CC,OAAOC,8BACKC,UAAUD,yMArDdN,UAAYQ,MAAAA,iBAClBC,WAAWC,sCACZT,mBAAUU,SAASC,0BAA0BC,cAG3ChB,cAAe,mBAAE,kBAAkBO,MACnCU,aAAe,0CAAkB,CAAEL,WAAYA,WAAYZ,aAAAA,qBAC3DkB,iBAAiBD,kBAQTC,iBAAiBC,+BACrBC,OAAO,8CAA+C,CAC9DH,OAAQE,aACPjB,MAAMmB,2BACLjB,mBAAUU,SAASC,0BAA0BM,KAAKA,SAEnDb,OAAOC,8BACKC,UAAUD"}