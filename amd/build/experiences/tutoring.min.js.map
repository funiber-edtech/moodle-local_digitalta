{"version":3,"file":"tutoring.min.js","sources":["../../src/experiences/tutoring.js"],"sourcesContent":["import {searchMentors, addMentorRequest} from \"local_dta/repositories/tutoring_repository\";\r\nimport Templates from \"core/templates\";\r\nimport Notification from \"core/notification\";\r\nimport SELECTORS from \"./selectors\";\r\nimport $ from \"jquery\";\r\n\r\nexport const getMentors = async (searchText) => {\r\n  if (!searchText.trim()) {\r\n    $(SELECTORS.SECTIONS.searchMentorsResults).empty();\r\n    return;\r\n  }\r\n  const experienceid = $(\"#experience-id\").val();\r\n  const mentors = await searchMentors({ searchText: searchText, experienceid });\r\n  await addMentorsResults(mentors);\r\n};\r\n\r\n/**\r\n * Add mentors to the results div\r\n * @param {object} mentorsData\r\n * @return {void}\r\n */\r\nexport function addMentorsResults(mentorsData) {\r\n  Templates.render(\"local_dta/test/menu_mentor/item-search\", {\r\n    mentors: mentorsData,\r\n  }).then((html) => {\r\n    $(SELECTORS.SECTIONS.searchMentorsResults).html(html);\r\n    return;\r\n  }).catch((error) => {\r\n    Notification.exception(error);\r\n  });\r\n}\r\n\r\n/**\r\n * Add mentor request\r\n * @param {int} mentorid\r\n * @param {int} experienceid\r\n */\r\nexport function handlerAddMentorRequest(mentorid, experienceid) {\r\n  const args = {mentorid, experienceid};\r\n  addMentorRequest(args).then(() => {\r\n    Notification.success(\"Mentor request sent\");\r\n    return;\r\n  }\r\n  ).catch((error) => {\r\n    Notification.exception(error);\r\n  });\r\n}\r\n"],"names":["mentorid","experienceid","args","then","success","catch","error","exception","addMentorsResults","mentorsData","render","mentors","html","SELECTORS","SECTIONS","searchMentorsResults","async","searchText","trim","empty","val"],"mappings":"8eAqCwCA,SAAUC,oBAC1CC,KAAO,CAACF,SAAAA,SAAUC,aAAAA,wDACPC,MAAMC,MAAK,2BACbC,QAAQ,0BAGrBC,OAAOC,8BACMC,UAAUD,4MAvBXE,kBAAkBC,gCACtBC,OAAO,yCAA0C,CACzDC,QAASF,cACRN,MAAMS,2BACLC,mBAAUC,SAASC,sBAAsBH,KAAKA,SAE/CP,OAAOC,8BACKC,UAAUD,8BAtBDU,MAAAA,iBACnBC,WAAWC,sCACZL,mBAAUC,SAASC,sBAAsBI,cAGvClB,cAAe,mBAAE,kBAAkBmB,MACnCT,cAAgB,sCAAc,CAAEM,WAAYA,WAAYhB,aAAAA,qBACxDO,kBAAkBG"}