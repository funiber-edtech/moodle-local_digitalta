{"version":3,"file":"tutoring.min.js","sources":["../../src/experiences/tutoring.js"],"sourcesContent":["import {searchMentors, addMentorRequest, removeMentorRequest} from \"local_dta/repositories/tutoring_repository\";\r\nimport Templates from \"core/templates\";\r\nimport Notification from \"core/notification\";\r\nimport SELECTORS from \"./selectors\";\r\nimport $ from \"jquery\";\r\n\r\nexport const getMentors = async (searchText) => {\r\n  if (!searchText.trim()) {\r\n    $(SELECTORS.SECTIONS.searchMentorsResults).empty();\r\n    return;\r\n  }\r\n  const experienceid = $(\"#experience-id\").val();\r\n  const mentors = await searchMentors({ searchText: searchText, experienceid });\r\n  await addMentorsResults(mentors);\r\n};\r\n\r\n/**\r\n * Add mentors to the results div\r\n * @param {object} mentorsData\r\n * @return {void}\r\n */\r\nexport function addMentorsResults(mentorsData) {\r\n  Templates.render(\"local_dta/test/menu_mentor/item-search\", {\r\n    mentors: mentorsData,\r\n  }).then((html) => {\r\n    $(SELECTORS.SECTIONS.searchMentorsResults).html(html);\r\n    return;\r\n  }).catch((error) => {\r\n    Notification.exception(error);\r\n  });\r\n}\r\n\r\n/**\r\n * Add mentor request\r\n * @param {int} mentorid\r\n * @param {int} experienceid\r\n */\r\nexport function handlerAddMentorRequest(mentorid, experienceid) {\r\n  const args = {mentorid, experienceid};\r\n  addMentorRequest(args).then(() => {\r\n    getMentors($(SELECTORS.INPUTS.mentorsSearch).val());\r\n    return;\r\n  }).catch((error) => {\r\n    Notification.exception(error);\r\n  });\r\n}\r\n\r\n\r\n/**\r\n * Remove mentor request\r\n * @param {int} mentorid\r\n * @param {int} experienceid\r\n */\r\nexport function handlerRemoveMentorRequest(mentorid, experienceid) {\r\n  const args = {mentorid, experienceid};\r\n  removeMentorRequest(args).then(() => {\r\n    getMentors($(SELECTORS.INPUTS.mentorsSearch).val());\r\n    return;\r\n  }).catch((error) => {\r\n    Notification.exception(error);\r\n  });\r\n}\r\n"],"names":["mentorid","experienceid","args","then","getMentors","SELECTORS","INPUTS","mentorsSearch","val","catch","error","exception","async","searchText","trim","SECTIONS","searchMentorsResults","empty","mentors","addMentorsResults","mentorsData","render","html"],"mappings":"8eAqCwCA,SAAUC,oBAC1CC,KAAO,CAACF,SAAAA,SAAUC,aAAAA,wDACPC,MAAMC,MAAK,KAC1BC,YAAW,mBAAEC,mBAAUC,OAAOC,eAAeC,UAE5CC,OAAOC,8BACKC,UAAUD,wDAUgBV,SAAUC,oBAC7CC,KAAO,CAACF,SAAAA,SAAUC,aAAAA,2DACJC,MAAMC,MAAK,KAC7BC,YAAW,mBAAEC,mBAAUC,OAAOC,eAAeC,UAE5CC,OAAOC,8BACKC,UAAUD,yMArDdN,WAAaQ,MAAAA,iBACnBC,WAAWC,sCACZT,mBAAUU,SAASC,sBAAsBC,cAGvChB,cAAe,mBAAE,kBAAkBO,MACnCU,cAAgB,sCAAc,CAAEL,WAAYA,WAAYZ,aAAAA,qBACxDkB,kBAAkBD,mBAQVC,kBAAkBC,gCACtBC,OAAO,yCAA0C,CACzDH,QAASE,cACRjB,MAAMmB,2BACLjB,mBAAUU,SAASC,sBAAsBM,KAAKA,SAE/Cb,OAAOC,8BACKC,UAAUD"}