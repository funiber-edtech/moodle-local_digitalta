{"version":3,"file":"main.min.js","sources":["../../src/experiences/main.js"],"sourcesContent":["import Notification from \"core/notification\";\r\nimport ModalFactory from 'core/modal_factory';\r\nimport Templates from 'core/templates';\r\nimport {get_string} from 'core/str';\r\nimport {toggleStatus} from 'local_dta/repositories/experiences_repository';\r\nimport {setEventListeners} from './listeners';\r\nimport {deleteContext} from 'local_dta/repositories/context_repository';\r\n\r\nlet changeStatusModal = null;\r\n\r\n/**\r\n * Show the delete section modal\r\n * @param {int} experienceid\r\n * @return {void}\r\n */\r\nexport async function showChangeStatusModal(experienceid) {\r\n    changeStatusModal = await ModalFactory.create({\r\n        title: get_string(\"experience_view_block_modal_title\", \"local_dta\"),\r\n        body: Templates.render('local_dta/experiences/view/open-close-modal', {experienceid}),\r\n    });\r\n    changeStatusModal.show();\r\n}\r\n\r\n/**\r\n * Toggle the status of an experience\r\n * @param {int} experienceid\r\n * @return {void}\r\n */\r\nexport async function toggleExperienceStatus(experienceid) {\r\n    try {\r\n        await toggleStatus(experienceid);\r\n        changeStatusModal.hide();\r\n        window.location.reload();\r\n        return;\r\n    } catch (error) {\r\n        Notification.exception(error);\r\n    }\r\n}\r\n\r\n/**\r\n * Display the link resources modal\r\n * @param {int} contextid  The context id.\r\n */\r\nexport async function deleteRelatedContext(contextid) {\r\n    try {\r\n        await deleteContext({id: contextid});\r\n        window.location.reload();\r\n    } catch (error) {\r\n        Notification.exception(error);\r\n    }\r\n}\r\n\r\nexport const init = (userid = null) => {\r\n    setEventListeners(userid);\r\n};\r\n"],"names":["contextid","id","window","location","reload","error","exception","experienceid","changeStatusModal","ModalFactory","create","title","body","Templates","render","show","hide","userid"],"mappings":"8gBA2C2CA,qBAE7B,qCAAc,CAACC,GAAID,YACzBE,OAAOC,SAASC,SAClB,MAAOC,6BACQC,UAAUD,4EAjCaE,cACxCC,wBAA0BC,uBAAaC,OAAO,CAC1CC,OAAO,mBAAW,oCAAqC,aACvDC,KAAMC,mBAAUC,OAAO,8CAA+C,CAACP,aAAAA,iBAE3EC,kBAAkBO,uDAQuBR,+BAE/B,wCAAaA,cACnBC,kBAAkBQ,YAClBd,OAAOC,SAASC,SAElB,MAAOC,6BACQC,UAAUD,qKA3B3BG,kBAAoB,mBA4CJ,eAACS,8DAAS,sCACRA"}