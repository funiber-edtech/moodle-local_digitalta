{"version":3,"file":"manage_reflection.min.js","sources":["../../../src/myexperience/reflection/manage_reflection.js"],"sourcesContent":["import $ from 'jquery';\r\nimport Templates from 'core/templates';\r\nimport ModalFactory from 'core/modal_factory';\r\nimport {get_string} from 'core/str';\r\nimport {setupForElementId} from 'editor_tiny/editor';\r\n\r\nlet tinyConfig;\r\n\r\n/**\r\n * Set the events for the module.\r\n * @return {void}\r\n */\r\nfunction setEventListeners() {\r\n  document.querySelectorAll('.section').forEach(section => {\r\n    var collapseButton = section.querySelector('.header');\r\n\r\n    if (collapseButton) {\r\n      collapseButton.addEventListener('click', () => {\r\n        var collapseIcon = collapseButton.querySelector('i');\r\n        var sectionContent = section.querySelector('.questions');\r\n        if (collapseButton.classList.contains('collapsed')) {\r\n          collapseButton.classList.remove('collapsed');\r\n          collapseIcon.classList.remove('fa-chevron-down');\r\n          collapseIcon.classList.add('fa-chevron-right');\r\n          sectionContent.style.display = 'none';\r\n        } else {\r\n          collapseButton.classList.add('collapsed');\r\n          collapseIcon.classList.remove('fa-chevron-right');\r\n          collapseIcon.classList.add('fa-chevron-down');\r\n          sectionContent.style.display = 'flex';\r\n        }\r\n      });\r\n    }\r\n});\r\n\r\n\r\n  document.querySelectorAll('#importer').forEach(importer => {\r\n    var addButton = importer.querySelector('#add_button');\r\n    var importerDiv = importer.querySelector('#import_div');\r\n\r\n    // Add Button Clic Event\r\n    addButton.addEventListener('click', () => {\r\n        importerDiv.style.display = importerDiv.style.display == 'flex' ? 'none' : 'flex';\r\n    });\r\n\r\n    importerDiv.querySelectorAll('.import_button').forEach(importButton => {\r\n      importButton.addEventListener('click', () => {\r\n        var buttonId = importButton.id;\r\n\r\n        switch (buttonId) {\r\n          case \"tiny\":\r\n            //eslint-disable-next-line no-console\r\n            console.log(\"Tiny\");\r\n            break;\r\n          case \"tiny_record\":\r\n            //eslint-disable-next-line no-console\r\n            console.log(\"Tiny Record\");\r\n            break;\r\n          case \"import_cases\":\r\n            showImportCase();\r\n            break;\r\n          case \"import_experiences\":\r\n            //eslint-disable-next-line no-console\r\n            console.log(\"Import Experiences\");\r\n            break;\r\n          case \"import_tutor_conc\":\r\n            //eslint-disable-next-line no-console\r\n            console.log(\"Import Tutor Conc\");\r\n            break;\r\n          case \"import_resources\":\r\n            //eslint-disable-next-line no-console\r\n            console.log(\"Import Resources\");\r\n            break;\r\n        }\r\n      });\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Create tinyMCE in an area.\r\n * @param {string} area - The id of the area to create tinyMCE in.\r\n * @return {void}\r\n */\r\nfunction createTinyMCE(area) {\r\n    setupForElementId({\r\n        elementId: `${area}`,\r\n        options: tinyConfig,\r\n    });\r\n}\r\n\r\n/**\r\n * Set event listeners for the module.\r\n * @return {void}\r\n * */\r\nfunction setDefaultTinyMCE() {\r\n  $('.editor').each(function() {\r\n    createTinyMCE(this.id);\r\n  });\r\n}\r\n\r\n/**\r\n * Set the tinyMCE config.\r\n * @return {void}\r\n */\r\nfunction setTinyConfig() {\r\n  tinyConfig = window.dta_tiny_config;\r\n}\r\n\r\n/**\r\n * Show save case modal\r\n * @return {void}\r\n */\r\nasync function showImportCase() {\r\n  const saveModal = await ModalFactory.create({\r\n      title: get_string(\"experience_reflection_import_cases_title\", \"local_dta\"),\r\n      body: Templates.render('local_dta/experiences/reflection/import-case-modal', {\r\n      }),\r\n  });\r\n  saveModal.show();\r\n}\r\n\r\n/**\r\n * Initialize the module.\r\n * @return {void}\r\n */\r\nexport const init = () => {\r\n    setEventListeners();\r\n    setTinyConfig();\r\n    setDefaultTinyMCE();\r\n};"],"names":["tinyConfig","setEventListeners","document","querySelectorAll","forEach","section","collapseButton","querySelector","addEventListener","collapseIcon","sectionContent","classList","contains","remove","add","style","display","importer","addButton","importerDiv","importButton","id","console","log","ModalFactory","create","title","body","Templates","render","show","showImportCase","setDefaultTinyMCE","each","area","this","elementId","options","window","dta_tiny_config"],"mappings":"iTAMIA,oBAMKC,oBACPC,SAASC,iBAAiB,YAAYC,SAAQC,cACxCC,eAAiBD,QAAQE,cAAc,WAEvCD,gBACFA,eAAeE,iBAAiB,SAAS,SACnCC,aAAeH,eAAeC,cAAc,KAC5CG,eAAiBL,QAAQE,cAAc,cACvCD,eAAeK,UAAUC,SAAS,cACpCN,eAAeK,UAAUE,OAAO,aAChCJ,aAAaE,UAAUE,OAAO,mBAC9BJ,aAAaE,UAAUG,IAAI,oBAC3BJ,eAAeK,MAAMC,QAAU,SAE/BV,eAAeK,UAAUG,IAAI,aAC7BL,aAAaE,UAAUE,OAAO,oBAC9BJ,aAAaE,UAAUG,IAAI,mBAC3BJ,eAAeK,MAAMC,QAAU,cAOvCd,SAASC,iBAAiB,aAAaC,SAAQa,eACzCC,UAAYD,SAASV,cAAc,eACnCY,YAAcF,SAASV,cAAc,eAGzCW,UAAUV,iBAAiB,SAAS,KAChCW,YAAYJ,MAAMC,QAAuC,QAA7BG,YAAYJ,MAAMC,QAAoB,OAAS,UAG/EG,YAAYhB,iBAAiB,kBAAkBC,SAAQgB,eACrDA,aAAaZ,iBAAiB,SAAS,YACtBY,aAAaC,QAGrB,OAEHC,QAAQC,IAAI,kBAET,cAEHD,QAAQC,IAAI,yBAET,wCAwDWC,uBAAaC,OAAO,CACxCC,OAAO,mBAAW,2CAA4C,aAC9DC,KAAMC,mBAAUC,OAAO,qDAAsD,OAGvEC,OA5DAC,aAEG,qBAEHT,QAAQC,IAAI,gCAET,oBAEHD,QAAQC,IAAI,+BAET,mBAEHD,QAAQC,IAAI,uCAwBfS,wCACL,WAAWC,MAAK,eAZGC,KAAAA,KAaLC,KAAKd,iCAZD,CACde,oBAAcF,MACdG,QAASrC,uPAuCG,KAChBC,oBArBFD,WAAasC,OAAOC,gBAuBlBP"}