define("local_dta/myexperience/reflection/manage_reflection",["exports","jquery","editor_tiny/editor","local_dta/repositories/reflection_repository","core/notification"],(function(_exports,_jquery,_editor,_reflection_repository,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}let tinyConfig;function setDefaultTinyMCE(){(0,_jquery.default)(".editor").each((function(){var area;area=this.id,(0,_editor.setupForElementId)({elementId:"".concat(area),options:tinyConfig})}))}function setEventListeners(){(0,_jquery.default)(document).on("click",".submit",(function(){!function(btn){const data=btn.data(),{target:target,group:group}=data,reflectionid=(0,_jquery.default)("#reflectionid").val(),content=window.tinyMCE.get(target).getContent();(0,_reflection_repository.sectionTextUpsert)({reflectionid:reflectionid,group:group,content:content}).then((sectionid=>{console.log(sectionid),btn.data("sectionid",sectionid),_notification.default.addNotification({message:"Section saved successfully.",type:"success"})})).fail(_notification.default.exception)}((0,_jquery.default)(this))}))}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_notification=_interopRequireDefault(_notification);_exports.init=()=>{setEventListeners(),document.querySelectorAll(".section").forEach((section=>{var collapseButton=section.querySelector(".header");collapseButton&&collapseButton.addEventListener("click",(()=>{var collapseIcon=collapseButton.querySelector("i"),sectionContent=section.querySelector(".questions");collapseButton.classList.contains("collapsed")?(collapseButton.classList.remove("collapsed"),collapseIcon.classList.remove("fa-chevron-down"),collapseIcon.classList.add("fa-chevron-right"),sectionContent.style.display="none"):(collapseButton.classList.add("collapsed"),collapseIcon.classList.remove("fa-chevron-right"),collapseIcon.classList.add("fa-chevron-down"),sectionContent.style.display="flex")}))})),document.querySelectorAll("#importer").forEach((importer=>{var addButton=importer.querySelector("#add_button"),importerDiv=importer.querySelector("#import_div");addButton.addEventListener("click",(()=>{importerDiv.style.display="flex"==importerDiv.style.display?"none":"flex"})),importerDiv.querySelectorAll(".import_button").forEach((importButton=>{importButton.addEventListener("click",(()=>{switch(importButton.id){case"tiny":console.log("Tiny");break;case"tiny_record":console.log("Tiny Record");break;case"import_cases":console.log("Import Cases");break;case"import_experiences":console.log("Import Experiences");break;case"import_tutor_conc":console.log("Import Tutor Conc");break;case"import_resources":console.log("Import Resources")}}))}))})),tinyConfig=window.dta_tiny_config,setDefaultTinyMCE()}}));

//# sourceMappingURL=manage_reflection.min.js.map