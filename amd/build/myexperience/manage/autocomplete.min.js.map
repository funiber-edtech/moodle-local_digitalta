{"version":3,"file":"autocomplete.min.js","sources":["../../../src/myexperience/manage/autocomplete.js"],"sourcesContent":["import {Ajax} from \"core/ajax\";\r\nimport {Autocomplete} from \"core/form-autocomplete\";\r\n\r\nvar createOptionText = 'Create: ';\r\n/**\r\n * Autocomplete tags.\r\n * @return {void}\r\n */\r\nexport function autocompleteTags() {\r\n    Autocomplete.enhance('#autocomplete_tags', false, {\r\n        transport: function(searchText, success, failure) {\r\n            Ajax.call([{\r\n                methodname: 'tu_metodo_de_busqueda',\r\n                args: {search: searchText},\r\n                done: function(result) {\r\n                    if (result.length === 0) {\r\n                        // Si no hay resultados, ofrece la opci√≥n de crear una nueva etiqueta\r\n                        success([{label: createOptionText + searchText, value: searchText}]);\r\n                    } else {\r\n                        success(result);\r\n                    }\r\n                },\r\n                fail: failure\r\n            }]);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Handle new tag.\r\n * @param {object} data\r\n * @return {void}\r\n */\r\nexport function handleNewTag(data) {\r\n    if (data.label.startsWith(createOptionText)) {\r\n        var tagName = data.value;\r\n        Ajax.call([{\r\n            methodname: 'tu_metodo_para_crear_etiqueta',\r\n            args: {name: tagName},\r\n            done: function(result) {\r\n                return result;\r\n            },\r\n            fail: function(err) {\r\n                // eslint-disable-next-line no-console\r\n                console.log(err);\r\n            }\r\n        }]);\r\n    }\r\n}\r\n"],"names":["enhance","transport","searchText","success","failure","call","methodname","args","search","done","result","length","label","value","fail","data","startsWith","tagName","name","err","console","log"],"mappings":"6QASiBA,QAAQ,sBAAsB,EAAO,CAC9CC,UAAW,SAASC,WAAYC,QAASC,oBAChCC,KAAK,CAAC,CACPC,WAAY,wBACZC,KAAM,CAACC,OAAQN,YACfO,KAAM,SAASC,QACW,IAAlBA,OAAOC,OAEPR,QAAQ,CAAC,CAACS,MAdX,WAcqCV,WAAYW,MAAOX,cAEvDC,QAAQO,SAGhBI,KAAMV,8CAWOW,SACrBA,KAAKH,MAAMI,WA/BI,YA+B0B,KACrCC,QAAUF,KAAKF,iBACdR,KAAK,CAAC,CACPC,WAAY,gCACZC,KAAM,CAACW,KAAMD,SACbR,KAAM,SAASC,eACJA,QAEXI,KAAM,SAASK,KAEXC,QAAQC,IAAIF"}