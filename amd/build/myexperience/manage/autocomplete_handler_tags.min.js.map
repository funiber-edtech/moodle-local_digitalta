{"version":3,"file":"autocomplete_handler_tags.min.js","sources":["../../../src/myexperience/manage/autocomplete_handler_tags.js"],"sourcesContent":["define(['core/ajax'], function(Ajax) {\r\n    return {\r\n        // Public variables and functions.\r\n        /**\r\n         * Process the results returned from transport (convert to value + label)\r\n         *\r\n         * @method processResults\r\n         * @param {String} selector\r\n         * @param {Array} data\r\n         * @return {Array}\r\n         */\r\n        processResults: function(selector, data) {\r\n            // eslint-disable-next-line no-console\r\n            console.log('processResults', selector, data);\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Fetch results based on the current query. This also renders each result from a template before returning them.\r\n         *\r\n         * @method transport\r\n         * @param {String} searchText\r\n         * @param {String} query\r\n         * @param {Function} success\r\n         * @param {Function} failure\r\n         */\r\n        transport: function(searchText, query, success, failure) {\r\n            {\r\n                // eslint-disable-next-line no-console\r\n                console.log('transport', query);\r\n                Ajax.call([{\r\n                    methodname: 'local_dta_get_tags',\r\n                    args: {searchText: query},\r\n                    done: function(result) {\r\n                        if (result.length === 0) {\r\n                            // Si no hay resultados, ofrece la opci√≥n de crear una nueva etiqueta\r\n                            success([{label: 'Create: ' + query, value: query}]);\r\n                        } else {\r\n                            // eslint-disable-next-line no-console\r\n                            console.log(result);\r\n                            const tags = result.map(function(tag) {\r\n                                return {label: tag.name, value: tag.id};\r\n                            });\r\n                            // eslint-disable-next-line no-console\r\n                            console.log(tags);\r\n                            success(tags);\r\n                        }\r\n                    },\r\n                    fail: failure\r\n                }]);\r\n\r\n            }\r\n        }\r\n    };\r\n});"],"names":["define","Ajax","processResults","selector","data","console","log","transport","searchText","query","success","failure","call","methodname","args","done","result","length","label","value","tags","map","tag","name","id","fail"],"mappings":"AAAAA,iEAAO,CAAC,cAAc,SAASC,YACpB,CAUHC,eAAgB,SAASC,SAAUC,aAE/BC,QAAQC,IAAI,iBAAkBH,SAAUC,MACjCA,MAYXG,UAAW,SAASC,WAAYC,MAAOC,QAASC,SAGxCN,QAAQC,IAAI,YAAaG,OACzBR,KAAKW,KAAK,CAAC,CACPC,WAAY,qBACZC,KAAM,CAACN,WAAYC,OACnBM,KAAM,SAASC,WACW,IAAlBA,OAAOC,OAEPP,QAAQ,CAAC,CAACQ,MAAO,WAAaT,MAAOU,MAAOV,aACzC,CAEHJ,QAAQC,IAAIU,cACNI,KAAOJ,OAAOK,KAAI,SAASC,WACtB,CAACJ,MAAOI,IAAIC,KAAMJ,MAAOG,IAAIE,OAGxCnB,QAAQC,IAAIc,MACZV,QAAQU,QAGhBK,KAAMd"}