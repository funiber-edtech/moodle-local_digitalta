{"version":3,"file":"modals.min.js","sources":["../../../src/myexperience/view/modals.js"],"sourcesContent":["import Modal from 'core/modal';\r\nimport ModalRegistry from 'core/modal_registry';\r\nimport {getAllResources} from 'local_dta/repositories/resources_repository';\r\nimport ModalFactory from 'core/modal_factory';\r\nimport ModalEvents from 'core/modal_events';\r\nimport $ from 'jquery';\r\n\r\nconst linkResourcesModal = class extends Modal {\r\n    static TYPE = 'local_dta/linkResourcesModal';\r\n\r\n    static TEMPLATE = 'local_dta/experiences/view/modal-resources';\r\n\r\n    registerEventListeners() {\r\n        // Call the parent registration.\r\n        super.registerEventListeners();\r\n\r\n        // Register to close on save/cancel.\r\n        this.registerCloseOnSave();\r\n        this.registerCloseOnCancel();\r\n    }\r\n};\r\n\r\nModalRegistry.register(linkResourcesModal.TYPE, linkResourcesModal, linkResourcesModal.TEMPLATE);\r\n\r\n\r\nconst linkCasesModal = class extends Modal {\r\n    static TYPE = 'local_dta/linkCasesModal';\r\n\r\n    static TEMPLATE = 'local_dta/experiences/view/modal-cases';\r\n\r\n    registerEventListeners() {\r\n        // Call the parent registration.\r\n        super.registerEventListeners();\r\n\r\n        // Register to close on save/cancel.\r\n        this.registerCloseOnSave();\r\n        this.registerCloseOnCancel();\r\n    }\r\n};\r\n\r\nModalRegistry.register(linkCasesModal.TYPE, linkCasesModal, linkCasesModal.TEMPLATE);\r\n\r\n\r\n/**\r\n * Display a modal dialogue.\r\n */\r\nexport const displaylinkResourcesModal = async() => {\r\n    const {resources} = await getAllResources();\r\n\r\n    const modal = await ModalFactory.create({\r\n        type: linkResourcesModal.TYPE,\r\n        templateContext: {elementid_: Date.now(), resources},\r\n        large: true,\r\n    });\r\n    modal.show();\r\n    const $root = modal.getRoot();\r\n    $root.on(ModalEvents.save, () => {\r\n        handleResourceModal();\r\n    });\r\n};\r\n\r\n\r\n/**\r\n * Handle RESOURCE modal dialogue.\r\n */\r\nconst handleResourceModal = () => {\r\n    const seleccionados = [];\r\n    $(\"#resources-group input[type='checkbox']:checked\").each(function() {\r\n        // Agregar el valor del checkbox seleccionado al array\r\n        seleccionados.push($(this).val());\r\n    });\r\n    // eslint-disable-next-line no-console\r\n    console.log(seleccionados);\r\n};\r\n"],"names":["linkResourcesModal","Modal","registerEventListeners","registerCloseOnSave","registerCloseOnCancel","register","TYPE","TEMPLATE","linkCasesModal","async","resources","modal","ModalFactory","create","type","templateContext","elementid_","Date","now","large","show","getRoot","on","ModalEvents","save","handleResourceModal","seleccionados","each","push","this","val","console","log"],"mappings":"k4BAOMA,2CAAqB,cAAcC,eAKrCC,+BAEUA,8BAGDC,2BACAC,iCAVK,kEAEI,8EAYRC,SAASL,mBAAmBM,KAAMN,mBAAoBA,mBAAmBO,gBAGjFC,wCAAiB,cAAcP,eAKjCC,+BAEUA,8BAGDC,2BACAC,iCAVK,+DAEI,2EAYRC,SAASG,eAAeF,KAAME,eAAgBA,eAAeD,6CAMlCE,gBAC/BC,UAACA,iBAAmB,2CAEpBC,YAAcC,uBAAaC,OAAO,CACpCC,KAAMd,mBAAmBM,KACzBS,gBAAiB,CAACC,WAAYC,KAAKC,MAAOR,UAAAA,WAC1CS,OAAO,IAEXR,MAAMS,OACQT,MAAMU,UACdC,GAAGC,sBAAYC,MAAM,KACvBC,gCAQFA,oBAAsB,WAClBC,cAAgB,uBACpB,mDAAmDC,MAAK,WAEtDD,cAAcE,MAAK,mBAAEC,MAAMC,UAG/BC,QAAQC,IAAIN"}