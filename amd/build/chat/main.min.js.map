{"version":3,"file":"main.min.js","sources":["../../src/chat/main.js"],"sourcesContent":["import $ from 'jquery';\r\nimport Template from 'core/templates';\r\nimport Notification from 'core/notification';\r\n\r\n/**\r\n * Create a chat in the target\r\n * @param {string} target\r\n */\r\nexport default function createChatInTarget(target) {\r\n    getChatRooms();\r\n    Template.render('local_dta/chat/main', {target}).then((html) => {\r\n        $(target).append(html);\r\n        return;\r\n    }).fail(Notification.exception);\r\n}\r\n\r\n/**\r\n * Get chat rooms from the specified URL\r\n * @returns {Promise}\r\n */\r\nconst getChatRooms = () => {\r\n    const url = 'http://localhost/moodle/local/dta/classes/chat/chat_ajax.php?action=get_chat_rooms';\r\n    return fetch(url)\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n            // eslint-disable-next-line no-console\r\n            console.log(response.json());\r\n            return response.json();\r\n        })\r\n        .catch(error => {\r\n            // eslint-disable-next-line no-console\r\n            console.error('Error fetching chat rooms:', error);\r\n        });\r\n};"],"names":["target","getChatRooms","render","then","html","append","fail","Notification","exception","fetch","response","ok","Error","console","log","json","catch","error"],"mappings":"gTAQ2CA,QACvCC,kCACSC,OAAO,sBAAuB,CAACF,OAAAA,SAASG,MAAMC,2BACjDJ,QAAQK,OAAOD,SAElBE,KAAKC,sBAAaC,4JAOnBP,aAAe,IAEVQ,MADK,sFAEPN,MAAKO,eACGA,SAASC,SACJ,IAAIC,MAAM,sCAGpBC,QAAQC,IAAIJ,SAASK,QACdL,SAASK,UAEnBC,OAAMC,QAEHJ,QAAQI,MAAM,6BAA8BA"}