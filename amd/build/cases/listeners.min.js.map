{"version":3,"file":"listeners.min.js","sources":["../../src/cases/listeners.js"],"sourcesContent":["import $ from \"jquery\";\nimport {\n    addTextSection,\n    changeSectionToEdit,\n    deleteSection,\n    removeSection,\n    upsertSection,\n    showDeleteSectionModal,\n    showSaveCase,\n    changeStatusToComplete\n} from \"./form\";\nimport {\n    createTinyMCE,\n    removeTinyMCEFromArea\n} from 'local_dta/tiny/manage';\n\n/**\n * Set event listeners for the page.\n * @return {void}\n */\nexport default function setEventListeners() {\n    // Add a new text section\n    $(document).on('click', '#add-section', () => {\n        addTextSection();\n    });\n    // Remove a section\n    $(document).on('click', '.section-close-button', function () {\n        const id = $(this).data('id');\n        removeSection(id);\n        removeTinyMCEFromArea(`content_${id}`);\n    });\n    // Edit the section\n    $(document).on('click', '.section-edit-button', function () {\n        const id = $(this).data('id');\n        upsertSection(id);\n        removeTinyMCEFromArea(`content_${id}`);\n    });\n    // Change the section to edit mode\n    $(document).on('click', '.section-to-edit-button', async function () {\n        const id = $(this).data('id');\n        await changeSectionToEdit(true, id);\n        createTinyMCE(`content_${id}`);\n    });\n    // Show section delete modal\n    $(document).on('click', '.section-delete-button', function() {\n        showDeleteSectionModal($(this).data('id'));\n    });\n    // Delete section\n    $(document).on('click', '#confirmDelete', function() {\n        deleteSection();\n    });\n    // Save button\n    $(document).on('click', '#save-case-button', function() {\n        showSaveCase();\n    });\n    // Change status to complete\n    $(document).on('click', '#complete-case-button', function() {\n        changeStatusToComplete();\n    });\n}\n"],"names":["document","on","id","this","data","async"],"mappings":"0PAsBMA,UAAUC,GAAG,QAAS,gBAAgB,uDAItCD,UAAUC,GAAG,QAAS,yBAAyB,iBACvCC,IAAK,mBAAEC,MAAMC,KAAK,8BACVF,sCACS,WAAUA,6BAGnCF,UAAUC,GAAG,QAAS,wBAAwB,iBACtCC,IAAK,mBAAEC,MAAMC,KAAK,8BACVF,sCACS,WAAUA,6BAGnCF,UAAUC,GAAG,QAAS,2BAA2BI,uBACzCH,IAAK,mBAAEC,MAAMC,KAAK,YAClB,8BAAoB,EAAMF,8BACjB,WAAUA,6BAG3BF,UAAUC,GAAG,QAAS,0BAA0B,6CACvB,mBAAEE,MAAMC,KAAK,8BAGtCJ,UAAUC,GAAG,QAAS,kBAAkB,4DAIxCD,UAAUC,GAAG,QAAS,qBAAqB,2DAI3CD,UAAUC,GAAG,QAAS,yBAAyB"}