{"version":3,"file":"actions.min.js","sources":["../../src/teacheracademy/actions.js"],"sourcesContent":["import * as Str from \"core/str\";\r\nimport { displayManageModal } from \"local_dta/experiences/modals\";\r\n\r\nexport const handleAction = async (action) => {\r\n    const actionType = action.action;\r\n    const actionValue = action.value;\r\n    switch (actionType) {\r\n        case \"modal_ask\": {\r\n            const string_keys = [\r\n                { key: \"teacheracademy:actions:ask\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:ask:description\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:ask:title\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:ask:title:placeholder\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:ask:visibility\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:ask:language\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:ask:themes\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:ask:tags\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:ask:picture\", component: \"local_dta\" },\r\n                { key: \"visibility:public\", component: \"local_dta\" },\r\n                { key: \"visibility:private\", component: \"local_dta\" }\r\n            ];\r\n            const strings = Str.get_strings(string_keys);\r\n            Promise.all([strings])\r\n                .then(([strings]) => displayManageModal(strings, null));\r\n            break;\r\n        }\r\n        case \"modal_share\": {\r\n            const string_keys = [\r\n                { key: \"teacheracademy:actions:share\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:share:description\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:share:title\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:share:title:placeholder\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:share:visibility\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:share:language\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:share:themes\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:share:tags\", component: \"local_dta\" },\r\n                { key: \"teacheracademy:actions:share:picture\", component: \"local_dta\" },\r\n                { key: \"visibility:public\", component: \"local_dta\" },\r\n                { key: \"visibility:private\", component: \"local_dta\" }\r\n            ];\r\n            const strings = Str.get_strings(string_keys);\r\n            Promise.all([strings])\r\n                .then(([strings]) => displayManageModal(strings, null));\r\n            break;\r\n        }\r\n        case \"open_url\":\r\n            location.href = actionValue;\r\n            break;\r\n        default:\r\n    }\r\n};\r\n\r\nexport const init = () => {\r\n    document.querySelectorAll(\".action\").forEach((action => {\r\n        action.addEventListener(\"click\", (() => handleAction(action.dataset)));\r\n    }));\r\n};\r\n"],"names":["handleAction","async","actionType","action","actionValue","value","string_keys","key","component","strings","Str","get_strings","Promise","all","then","_ref","_ref2","location","href","document","querySelectorAll","forEach","addEventListener","dataset"],"mappings":"kpCAGaA,aAAeC,MAAAA,eAClBC,WAAaC,OAAOA,OACpBC,YAAcD,OAAOE,aACnBH,gBACC,mBACKI,YAAc,CAChB,CAAEC,IAAK,6BAA8BC,UAAW,aAChD,CAAED,IAAK,yCAA0CC,UAAW,aAC5D,CAAED,IAAK,mCAAoCC,UAAW,aACtD,CAAED,IAAK,+CAAgDC,UAAW,aAClE,CAAED,IAAK,wCAAyCC,UAAW,aAC3D,CAAED,IAAK,sCAAuCC,UAAW,aACzD,CAAED,IAAK,oCAAqCC,UAAW,aACvD,CAAED,IAAK,kCAAmCC,UAAW,aACrD,CAAED,IAAK,qCAAsCC,UAAW,aACxD,CAAED,IAAK,oBAAqBC,UAAW,aACvC,CAAED,IAAK,qBAAsBC,UAAW,cAEtCC,QAAUC,IAAIC,YAAYL,aAChCM,QAAQC,IAAI,CAACJ,UACRK,MAAKC,WAAEN,qBAAa,8BAAmBA,QAAS,mBAGpD,qBACKH,YAAc,CAChB,CAAEC,IAAK,+BAAgCC,UAAW,aAClD,CAAED,IAAK,2CAA4CC,UAAW,aAC9D,CAAED,IAAK,qCAAsCC,UAAW,aACxD,CAAED,IAAK,iDAAkDC,UAAW,aACpE,CAAED,IAAK,0CAA2CC,UAAW,aAC7D,CAAED,IAAK,wCAAyCC,UAAW,aAC3D,CAAED,IAAK,sCAAuCC,UAAW,aACzD,CAAED,IAAK,oCAAqCC,UAAW,aACvD,CAAED,IAAK,uCAAwCC,UAAW,aAC1D,CAAED,IAAK,oBAAqBC,UAAW,aACvC,CAAED,IAAK,qBAAsBC,UAAW,cAEtCC,QAAUC,IAAIC,YAAYL,aAChCM,QAAQC,IAAI,CAACJ,UACRK,MAAKE,YAAEP,sBAAa,8BAAmBA,QAAS,mBAGpD,WACDQ,SAASC,KAAOd,+DAMR,KAChBe,SAASC,iBAAiB,WAAWC,SAASlB,SAC1CA,OAAOmB,iBAAiB,SAAU,IAAMtB,aAAaG,OAAOoB"}