{"version":3,"file":"listeners.min.js","sources":["../../src/commun/listeners.js"],"sourcesContent":["import { getVideoURL } from \"local_digitalta/commun/video\";\n\nexport const setEventListeners = () => {\n  // eslint-disable-next-line promise/always-return, promise/catch-or-return\n  waitForElm(\".help-video-icon\").then(() => {\n    const videohelpers = document.querySelectorAll(\".help-video-icon\");\n    videohelpers.forEach((videohelper) => {\n      const params = `scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,\n      width=600,height=300,left=100,top=100`;\n      videohelper.addEventListener(\"click\", () => {\n        const videoName = videohelper.dataset.video;\n        open(getVideoURL(videoName), \"video\", params);\n      });\n    });\n  });\n};\n\n/**\n * Waits for an element to appear in the DOM.\n * @param {string} selector - The CSS selector of the element to wait for.\n * @returns {Promise<Element>} A promise that resolves with the element once it appears in the DOM.\n */\nfunction waitForElm(selector) {\n  return new Promise((resolve) => {\n    if (document.querySelector(selector)) {\n      return resolve(document.querySelector(selector));\n    }\n\n    const observer = new MutationObserver(() => {\n      if (document.querySelector(selector)) {\n        observer.disconnect();\n        resolve(document.querySelector(selector));\n      }\n    });\n\n    observer.observe(document.body, {\n      childList: true,\n      subtree: true,\n    });\n  });\n}\n"],"names":["selector","Promise","resolve","document","querySelector","observer","MutationObserver","disconnect","observe","body","childList","subtree","then","querySelectorAll","forEach","videohelper","addEventListener","videoName","dataset","video","open"],"mappings":"qOAEiC,SAoBbA,UAAAA,SAlBP,mBAmBJ,IAAIC,SAASC,aACdC,SAASC,cAAcJ,iBAClBE,QAAQC,SAASC,cAAcJ,iBAGlCK,SAAW,IAAIC,kBAAiB,KAChCH,SAASC,cAAcJ,YACzBK,SAASE,aACTL,QAAQC,SAASC,cAAcJ,eAInCK,SAASG,QAAQL,SAASM,KAAM,CAC9BC,WAAW,EACXC,SAAS,QAjCkBC,MAAK,KACbT,SAASU,iBAAiB,oBAClCC,SAASC,cAGpBA,YAAYC,iBAAiB,SAAS,WAC9BC,UAAYF,YAAYG,QAAQC,MACtCC,MAAK,sBAAYH,WAAY"}