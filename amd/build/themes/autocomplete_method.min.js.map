{"version":3,"file":"autocomplete_method.min.js","sources":["../../src/themes/autocomplete_method.js"],"sourcesContent":["define(['core/ajax'], function(Ajax) {\r\n    return {\r\n        /**\r\n         * Process the results returned from transport (convert to value + label)\r\n         *\r\n         * @method processResults\r\n         * @param {String} selector\r\n         * @param {Array} data\r\n         * @return {Array}\r\n         */\r\n        processResults: function(selector, data) {\r\n            const themes = data.map(function(theme) {\r\n                const value = theme.id;\r\n                let label = theme.name;\r\n                if (theme.id === -1) {\r\n                    return false;\r\n                }\r\n                return {label, value};\r\n            });\r\n            return themes;\r\n        },\r\n\r\n        /**\r\n         * Fetch results based on the current query. This also renders each result from a template before returning them.\r\n         *\r\n         * @method transport\r\n         * @param {String} searchText\r\n         * @param {String} query\r\n         * @param {Function} success\r\n         * @param {Function} failure\r\n         */\r\n        transport: function(searchText, query, success, failure) {\r\n            {\r\n                Ajax.call([{\r\n                    methodname: 'local_dta_themes_get',\r\n                    args: {searchText: query},\r\n                    done: function(result) {\r\n                        if (result.length === 0) {\r\n                            success([]);\r\n                        } else {\r\n                            success(result);\r\n                        }\r\n                    },\r\n                    fail: failure\r\n                }]);\r\n            }\r\n        }\r\n    };\r\n});\r\n"],"names":["define","Ajax","processResults","selector","data","map","theme","value","id","label","name","transport","searchText","query","success","failure","call","methodname","args","done","result","length","fail"],"mappings":"AAAAA,8CAAO,CAAC,cAAc,SAASC,YACpB,CASHC,eAAgB,SAASC,SAAUC,aAChBA,KAAKC,KAAI,SAASC,aACvBC,MAAQD,MAAME,OAChBC,MAAQH,MAAMI,YACA,IAAdJ,MAAME,IAGH,CAACC,MAAAA,MAAOF,MAAAA,WAcvBI,UAAW,SAASC,WAAYC,MAAOC,QAASC,SAExCd,KAAKe,KAAK,CAAC,CACPC,WAAY,uBACZC,KAAM,CAACN,WAAYC,OACnBM,KAAM,SAASC,QACW,IAAlBA,OAAOC,OACPP,QAAQ,IAERA,QAAQM,SAGhBE,KAAMP"}