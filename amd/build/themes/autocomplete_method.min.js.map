{"version":3,"file":"autocomplete_method.min.js","sources":["../../src/themes/autocomplete_method.js"],"sourcesContent":["define(['core/ajax'], function(Ajax) {\n    return {\n        /**\n         * Process the results returned from transport (convert to value + label)\n         *\n         * @method processResults\n         * @param {String} selector\n         * @param {Array} data\n         * @return {Array}\n         */\n        processResults: function(selector, data) {\n            const themes = data.map(function(theme) {\n                const value = theme.id;\n                let label = theme.name;\n                if (theme.id === -1) {\n                    return false;\n                }\n                return {label, value};\n            });\n            return themes;\n        },\n\n        /**\n         * Fetch results based on the current query. This also renders each result from a template before returning them.\n         *\n         * @method transport\n         * @param {String} searchText\n         * @param {String} query\n         * @param {Function} success\n         * @param {Function} failure\n         */\n        transport: function(searchText, query, success, failure) {\n            {\n                Ajax.call([{\n                    methodname: 'local_dta_themes_get',\n                    args: {searchText: query},\n                    done: function(result) {\n                        if (result.length === 0) {\n                            success([]);\n                        } else {\n                            success(result);\n                        }\n                    },\n                    fail: failure\n                }]);\n            }\n        }\n    };\n});\n"],"names":["define","Ajax","processResults","selector","data","map","theme","value","id","label","name","transport","searchText","query","success","failure","call","methodname","args","done","result","length","fail"],"mappings":"AAAAA,8CAAO,CAAC,cAAc,SAASC,YACpB,CASHC,eAAgB,SAASC,SAAUC,aAChBA,KAAKC,KAAI,SAASC,aACvBC,MAAQD,MAAME,OAChBC,MAAQH,MAAMI,YACA,IAAdJ,MAAME,IAGH,CAACC,MAAAA,MAAOF,MAAAA,WAcvBI,UAAW,SAASC,WAAYC,MAAOC,QAASC,SAExCd,KAAKe,KAAK,CAAC,CACPC,WAAY,uBACZC,KAAM,CAACN,WAAYC,OACnBM,KAAM,SAASC,QACW,IAAlBA,OAAOC,OACPP,QAAQ,IAERA,QAAQM,SAGhBE,KAAMP"}