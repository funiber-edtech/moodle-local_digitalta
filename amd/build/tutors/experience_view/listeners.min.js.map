{"version":3,"file":"listeners.min.js","sources":["../../../src/tutors/experience_view/listeners.js"],"sourcesContent":["import $ from \"jquery\";\nimport TutorView from \"local_digitalta/tutors/experience_view/main\";\nimport { SELECTORS } from \"local_digitalta/tutors/experience_view/selectors\";\nimport {tutoringRequestsAccept} from \"local_digitalta/repositories/tutoring_repository\";\n\nexport const setEventListeners = () => {\n  $(SELECTORS.ACTION.SEE_REQUESTS).on(\"click\", function () {\n    TutorView.openTutorsRequests();\n  });\n\n  $(document).on(\"click\", SELECTORS.BUTTONS.ACCEPT, function () {\n    acceptanceRequestHandler($(this).data(\"requestid\"), true);\n  });\n\n  $(document).on(\"click\", SELECTORS.BUTTONS.REJECT, function() {\n    acceptanceRequestHandler($(this).data(\"requestid\"), false);\n  });\n};\n\n\n/**\n * Acceptance request handler\n * @param {int} requestid\n * @param {bool} acceptance\n */\nexport async function acceptanceRequestHandler(requestid, acceptance) {\n  await tutoringRequestsAccept({\n    requestid: requestid,\n    acceptance: acceptance,\n  });\n  window.location.reload();\n}"],"names":["acceptanceRequestHandler","requestid","acceptance","window","location","reload","SELECTORS","ACTION","SEE_REQUESTS","on","openTutorsRequests","document","BUTTONS","ACCEPT","this","data","REJECT"],"mappings":"umBAyBsBA,yBAAyBC,UAAWC,kBAClD,+CAAuB,CAC3BD,UAAWA,UACXC,WAAYA,aAEdC,OAAOC,SAASC,oCAzBe,yBAC7BC,qBAAUC,OAAOC,cAAcC,GAAG,SAAS,yBACjCC,4CAGVC,UAAUF,GAAG,QAASH,qBAAUM,QAAQC,QAAQ,WAChDb,0BAAyB,mBAAEc,MAAMC,KAAK,cAAc,0BAGpDJ,UAAUF,GAAG,QAASH,qBAAUM,QAAQI,QAAQ,WAChDhB,0BAAyB,mBAAEc,MAAMC,KAAK,cAAc"}