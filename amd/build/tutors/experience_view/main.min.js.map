{"version":3,"file":"main.min.js","sources":["../../../src/tutors/experience_view/main.js"],"sourcesContent":["import $ from \"jquery\";\nimport {SELECTORS} from \"local_digitalta/tutors/experience_view/selectors\";\nimport Template from \"core/templates\";\nimport Notification from \"core/notification\";\nimport {tutoringRequestsGet} from \"local_digitalta/repositories/tutoring_repository\";\nimport {get_string} from \"core/str\";\nimport {setEventListeners} from \"local_digitalta/tutors/experience_view/listeners\";\n\nconst renderRequestsButton = async () => {\n  const experienceid = $(SELECTORS.INPUT.EXPERIENCE_ID).val();\n  const data = await tutoringRequestsGet({\n    experienceid: experienceid,\n  });\n  if (data) {\n    get_string(\"tutoring:request\", \"local_digitalta\")\n      .then((string) => {\n        $(SELECTORS.BUTTON_REQUEST).append(data.total + \" \" + string);\n        return true;\n      })\n      .fail(Notification.exception);\n  }\n  return true;\n};\n\n/**\n * Open tutor requests\n * @param {boolean} hideBack\n * @returns\n */\nexport const openTutorsRequests = async(hideBack = false) => {\n  const experienceid = $(SELECTORS.INPUT.EXPERIENCE_ID).val() || 0;\n  const data = await tutoringRequestsGet({\n    experienceid: experienceid,\n  });\n  data.hideBack = hideBack;\n  Template.render(SELECTORS.TEMPLATES.MENTOR_REQUESTS, data)\n    .then((html) => {\n      $(\"#chat\").html(html);\n      return;\n    })\n    .fail(Notification.exception);\n  return;\n};\n\n\n\n/**\n * @module tutors/experience_view/main\n */\nexport default function init() {\n  setEventListeners();\n  renderRequestsButton();\n}\n"],"names":["async","experienceid","SELECTORS","INPUT","EXPERIENCE_ID","val","data","then","string","BUTTON_REQUEST","append","total","fail","Notification","exception","renderRequestsButton","hideBack","render","TEMPLATES","MENTOR_REQUESTS","html"],"mappings":"ikBAQ6BA,iBACrBC,cAAe,mBAAEC,qBAAUC,MAAMC,eAAeC,MAChDC,WAAa,4CAAoB,CACrCL,aAAcA,eAEZK,0BACS,mBAAoB,mBAC5BC,MAAMC,6BACHN,qBAAUO,gBAAgBC,OAAOJ,KAAKK,MAAQ,IAAMH,SAC/C,KAERI,KAAKC,sBAAaC,YAgCvBC,oNAtBgCf,qBAAMgB,uEAChCf,cAAe,mBAAEC,qBAAUC,MAAMC,eAAeC,OAAS,EACzDC,WAAa,4CAAoB,CACrCL,aAAcA,eAEhBK,KAAKU,SAAWA,4BACPC,OAAOf,qBAAUgB,UAAUC,gBAAiBb,MAClDC,MAAMa,2BACH,SAASA,KAAKA,SAGjBR,KAAKC,sBAAaC"}