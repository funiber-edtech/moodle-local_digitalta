{"version":3,"file":"main.min.js","sources":["../../../src/mentors/experience_view/main.js"],"sourcesContent":["import $ from \"jquery\";\r\nimport { SELECTORS } from \"./selectors\";\r\nimport { TEMPLATES } from \"./templates\";\r\nimport Template from \"core/templates\";\r\nimport Notification from \"core/notification\";\r\nimport { getMentorRequestsByExperience } from \"local_dta/repositories/mentor_repository\";\r\nimport { get_string } from \"core/str\";\r\nimport { setEventListeners } from \"./listeners\";\r\n\r\nconst renderRequestsButton = () => {\r\n  const experienceid = $(SELECTORS.INPUT.EXPERIENCE_ID).val();\r\n  getMentorRequestsByExperience({ experienceid: experienceid })\r\n    .then((data) => {\r\n      if (data) {\r\n        get_string(\"tutoring:request\", \"local_dta\")\r\n          .then((string) => {\r\n            $(SELECTORS.BUTTON_REQUEST).append(data.total + \" \" + string);\r\n            return true;\r\n          })\r\n          .fail(Notification.exception);\r\n      }\r\n      return true;\r\n    })\r\n    .fail(Notification.exception);\r\n};\r\n\r\nexport const openMentorsRequests = () => {\r\n  const experienceid = $(SELECTORS.INPUT.EXPERIENCE_ID).val();\r\n  getMentorRequestsByExperience({ experienceid: experienceid })\r\n    .then((data) => {\r\n      Template.render(TEMPLATES.MENTOR_REQUESTS, data)\r\n        .then((html) => {\r\n          $(\"#chat\").html(html);\r\n          return;\r\n        })\r\n        .fail(Notification.exception);\r\n        return;\r\n    })\r\n    .fail(Notification.exception);\r\n};\r\n\r\n/**\r\n * @module mentors/experience_view/main\r\n */\r\nexport default function init() {\r\n  setEventListeners();\r\n  renderRequestsButton();\r\n}\r\n"],"names":["experienceid","SELECTORS","INPUT","EXPERIENCE_ID","val","then","data","string","BUTTON_REQUEST","append","total","fail","Notification","exception","renderRequestsButton","render","TEMPLATES","MENTOR_REQUESTS","html"],"mappings":"kgBAS6B,YACrBA,cAAe,mBAAEC,qBAAUC,MAAMC,eAAeC,2DACxB,CAAEJ,aAAcA,eAC3CK,MAAMC,OACDA,0BACS,mBAAoB,aAC5BD,MAAME,6BACHN,qBAAUO,gBAAgBC,OAAOH,KAAKI,MAAQ,IAAMH,SAC/C,KAERI,KAAKC,sBAAaC,YAEhB,KAERF,KAAKC,sBAAaC,YAuBrBC,wNApBiC,WAC3Bd,cAAe,mBAAEC,qBAAUC,MAAMC,eAAeC,2DACxB,CAAEJ,aAAcA,eAC3CK,MAAMC,2BACIS,OAAOC,qBAAUC,gBAAiBX,MACxCD,MAAMa,2BACH,SAASA,KAAKA,SAGjBP,KAAKC,sBAAaC,cAGtBF,KAAKC,sBAAaC"}