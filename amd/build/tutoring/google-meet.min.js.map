{"version":3,"file":"google-meet.min.js","sources":["../../src/tutoring/google-meet.js"],"sourcesContent":["import { tutoringMeetingsDelete } from \"local_digitalta/repositories/tutoring_repository\";\nimport $ from \"jquery\";\n\nexport const SELECTORS = {\n  BUTTONS: {\n    closeCall: \"#close-video-meeting\",\n    closeChatCall: \"#close-videocall-from-chat\",\n  },\n};\n\n/**\n * Sets event listeners for the Google Meet functionality.\n */\nexport const setEventListeners = () => {\n  $(document).on(\"click\", SELECTORS.BUTTONS.closeCall, (event) => {\n    const id = event.currentTarget.dataset.chatid;\n    closeCallOnClick(id);\n  });\n\n  $(document).on(\"click\", SELECTORS.BUTTONS.closeChatCall, (event) => {\n    const id = event.currentTarget.dataset.chatid;\n    closeCallOnClick(id, true);\n  });\n};\n\n/**\n * Closes the Google Meet call when the close call button is clicked.\n * @param {string} id - The ID of the chat associated with the Google Meet call.\n * @param {boolean} isChat - A boolean indicating whether the call is being closed from chat page.\n */\nexport async function closeCallOnClick(id, isChat = false) {\n  const isDeleted = await tutoringMeetingsDelete({ chatid: id });\n  if (isDeleted) {\n    if (isChat) {\n      const urlParams = new URLSearchParams(window.location.search);\n      urlParams.set(\"chatid\", id);\n      window.location.search = urlParams;\n    } else {\n      location.reload();\n    }\n  }\n}\n\n/**\n * Initializes the Google Meet functionality by setting event listeners.\n */\nexport const init = () => {\n  setEventListeners();\n};\n"],"names":["SELECTORS","BUTTONS","closeCall","closeChatCall","setEventListeners","document","on","event","closeCallOnClick","currentTarget","dataset","chatid","id","isChat","isDeleted","urlParams","URLSearchParams","window","location","search","set","reload"],"mappings":"0ZAGaA,UAAY,CACvBC,QAAS,CACPC,UAAW,uBACXC,cAAe,kEAONC,kBAAoB,yBAC7BC,UAAUC,GAAG,QAASN,UAAUC,QAAQC,WAAYK,QAEpDC,iBADWD,MAAME,cAAcC,QAAQC,+BAIvCN,UAAUC,GAAG,QAASN,UAAUC,QAAQE,eAAgBI,QAExDC,iBADWD,MAAME,cAAcC,QAAQC,QAClB,sBASHH,iBAAiBI,QAAIC,qEACnCC,gBAAkB,+CAAuB,CAAEH,OAAQC,QACrDE,aACED,OAAQ,OACJE,UAAY,IAAIC,gBAAgBC,OAAOC,SAASC,QACtDJ,UAAUK,IAAI,SAAUR,IACxBK,OAAOC,SAASC,OAASJ,eAEzBG,SAASG,oEAQK,KAClBjB"}