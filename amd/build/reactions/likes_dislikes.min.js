define("local_dta/reactions/likes_dislikes",["exports","jquery","local_dta/repositories/reactions_repository","./selectors","core/notification"],(function(_exports,_jquery,_reactions_repository,_selectors,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function updateUI(componentinstance,likes,dislikes,reactiontype){const reactionSelectors={1:_selectors.SELECTORS.BUTTONS.likes,0:_selectors.SELECTORS.BUTTONS.dislikes};(0,_jquery.default)(_selectors.SELECTORS.BUTTONS.likes+_selectors.SELECTORS.DATA.id(componentinstance)).removeClass("active"),(0,_jquery.default)(_selectors.SELECTORS.BUTTONS.dislikes+_selectors.SELECTORS.DATA.id(componentinstance)).removeClass("active"),reactionSelectors.hasOwnProperty(reactiontype)&&reactiontype>=0&&(0,_jquery.default)(reactionSelectors[reactiontype]+_selectors.SELECTORS.DATA.id(componentinstance)).addClass("active");const likesText=likes||"";(0,_jquery.default)(_selectors.SELECTORS.DATA.id(componentinstance)+_selectors.SELECTORS.COUNTS.likes).text(likesText)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.toggle=function(componentinstance){let reactiontype=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const component=(0,_jquery.default)(_selectors.SELECTORS.BUTTONS.likes).data("instance"),reactionSelectors={1:_selectors.SELECTORS.BUTTONS.likes,0:_selectors.SELECTORS.BUTTONS.dislikes},isActive=(0,_jquery.default)(reactionSelectors[reactiontype]+_selectors.SELECTORS.DATA.id(componentinstance)).hasClass("active");reactiontype=isActive?null:reactiontype,(0,_reactions_repository.toogleLikeAndDislike)({component:component,componentinstance:componentinstance,reactiontype:reactiontype}).then((response=>updateUI(componentinstance,response.likes,response.dislikes,response.reactiontype))).fail(_notification.default.exception)},_jquery=_interopRequireDefault(_jquery),_notification=_interopRequireDefault(_notification)}));

//# sourceMappingURL=likes_dislikes.min.js.map