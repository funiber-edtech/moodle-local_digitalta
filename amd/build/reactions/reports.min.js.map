{"version":3,"file":"reports.min.js","sources":["../../src/reactions/reports.js"],"sourcesContent":["import $ from \"jquery\";\nimport { SELECTORS } from \"./selectors\";\nimport Notification from \"core/notification\";\nimport { saveReport } from \"../repositories/reactions_repository\";\n\n/**\n * Update report button in the UI.\n * @param {number} instanceid - The id of the experience.\n * @return {void}\n */\nfunction updateUI(instanceid) {\n  const element = $(SELECTORS.BUTTONS.report + SELECTORS.DATA.id(instanceid));\n\n  if (!element.hasClass(\"active\")) {\n      element.addClass(\"active\");\n  }\n}\n\n/**\n * Toggle the like and dislike buttons.\n * @param {number} instanceid - The id of the instance\n */\nexport function sendReport(instanceid) {\n  const isActive = $(SELECTORS.BUTTONS.report + SELECTORS.DATA.id(instanceid)).hasClass(\"active\");\n  if (isActive) {\n    return;\n  }\n  const instancetype = $(SELECTORS.BUTTONS.report).data(\"instance\");\n\n  saveReport({ instancetype, instanceid })\n    .then(() => {\n      return updateUI(instanceid);\n    })\n    .fail(Notification.exception);\n}\n"],"names":["instanceid","SELECTORS","BUTTONS","report","DATA","id","hasClass","instancetype","data","then","element","addClass","updateUI","fail","Notification","exception"],"mappings":"qXAsB2BA,gBACR,mBAAEC,qBAAUC,QAAQC,OAASF,qBAAUG,KAAKC,GAAGL,aAAaM,SAAS,uBAIhFC,cAAe,mBAAEN,qBAAUC,QAAQC,QAAQK,KAAK,iDAE3C,CAAED,aAAAA,aAAcP,WAAAA,aACxBS,MAAK,aApBQT,kBACVU,SAAU,mBAAET,qBAAUC,QAAQC,OAASF,qBAAUG,KAAKC,GAAGL,aAE1DU,QAAQJ,SAAS,WAClBI,QAAQC,SAAS,UAiBVC,CAASZ,cAEjBa,KAAKC,sBAAaC"}