{"version":3,"file":"reports.min.js","sources":["../../src/reactions/reports.js"],"sourcesContent":["import $ from \"jquery\";\r\nimport { SELECTORS } from \"./selectors\";\r\nimport Notification from \"core/notification\";\r\nimport { toggleReport } from \"../repositories/reactions_repository\";\r\n\r\n/**\r\n * Toggle the like and dislike buttons.\r\n * @param {number} componentinstance - The id of the instance\r\n */\r\nexport function sendReport(componentinstance) {\r\n    const component = $(SELECTORS.BUTTONS.report).data(\"component\");\r\n    toggleReport({ component, componentinstance })\r\n        .then((response) => {\r\n            return updateUI(componentinstance, response.reactiontype);\r\n        })\r\n        .fail(Notification.exception);\r\n}\r\n\r\n/**\r\n * Update report button in the UI.\r\n * @param {number} componentinstance - The id of the experience.\r\n * @param {number} reactiontype - The type of reaction. 1 to add, -1 to remove.\r\n * @return {void}\r\n */\r\nfunction updateUI(componentinstance, reactiontype) {\r\n    const element = $(SELECTORS.BUTTONS.report + SELECTORS.DATA.id(componentinstance));\r\n          element.removeClass(\"active\");\r\n    if (reactiontype === 1) {\r\n        element.addClass(\"active\");\r\n    }\r\n}\r\n"],"names":["componentinstance","component","SELECTORS","BUTTONS","report","data","then","response","reactiontype","element","DATA","id","removeClass","addClass","updateUI","fail","Notification","exception"],"mappings":"qXAS2BA,yBACjBC,WAAY,mBAAEC,qBAAUC,QAAQC,QAAQC,KAAK,oDACtC,CAAEJ,UAAAA,UAAWD,kBAAAA,oBACrBM,MAAMC,mBAYGP,kBAAmBQ,oBAC3BC,SAAU,mBAAEP,qBAAUC,QAAQC,OAASF,qBAAUQ,KAAKC,GAAGX,oBACzDS,QAAQG,YAAY,UACL,IAAjBJ,cACAC,QAAQI,SAAS,UAfNC,CAASd,kBAAmBO,SAASC,gBAE/CO,KAAKC,sBAAaC"}