{"version":3,"file":"reports.min.js","sources":["../../src/reactions/reports.js"],"sourcesContent":["import $ from \"jquery\";\nimport { SELECTORS } from \"./selectors\";\nimport Notification from \"core/notification\";\nimport { toggleReport } from \"../repositories/reactions_repository\";\n\n/**\n * Toggle the like and dislike buttons.\n * @param {number} componentinstance - The id of the instance\n */\nexport function sendReport(componentinstance) {\n    const component = $(SELECTORS.BUTTONS.report).data(\"component\");\n    toggleReport({ component, componentinstance })\n        .then((response) => {\n            return updateUI(componentinstance, response.reactiontype);\n        })\n        .fail(Notification.exception);\n}\n\n/**\n * Update report button in the UI.\n * @param {number} componentinstance - The id of the experience.\n * @param {number} reactiontype - The type of reaction. 1 to add, -1 to remove.\n * @return {void}\n */\nfunction updateUI(componentinstance, reactiontype) {\n    const element = $(SELECTORS.BUTTONS.report + SELECTORS.DATA.id(componentinstance));\n    if (reactiontype === 1 && !element.hasClass(\"active\")) {\n        element.addClass(\"active\");\n    } else if (reactiontype === -1 && element.hasClass(\"active\")) {\n        element.removeClass(\"active\");\n    }\n}\n"],"names":["componentinstance","component","SELECTORS","BUTTONS","report","data","then","response","reactiontype","element","DATA","id","hasClass","removeClass","addClass","updateUI","fail","Notification","exception"],"mappings":"qXAS2BA,yBACjBC,WAAY,mBAAEC,qBAAUC,QAAQC,QAAQC,KAAK,oDACtC,CAAEJ,UAAAA,UAAWD,kBAAAA,oBACrBM,MAAMC,mBAYGP,kBAAmBQ,oBAC3BC,SAAU,mBAAEP,qBAAUC,QAAQC,OAASF,qBAAUQ,KAAKC,GAAGX,oBAC1C,IAAjBQ,cAAuBC,QAAQG,SAAS,WAEf,IAAlBJ,cAAuBC,QAAQG,SAAS,WAC/CH,QAAQI,YAAY,UAFpBJ,QAAQK,SAAS,UAdNC,CAASf,kBAAmBO,SAASC,gBAE/CQ,KAAKC,sBAAaC"}